- name: Auto-find and download defconfig
  run: |
    echo "üîç –ò—â–µ–º dandelion_defconfig..."
    FILE_URL=$(curl -s https://api.github.com/repos/MiCode/Xiaomi_Kernel_OpenSource/contents/arch/arm64/configs?ref=dandelion-q-oss \
      | grep '"download_url":' \
      | grep dandelion_defconfig \
      | cut -d '"' -f 4)

    if [ -z "$FILE_URL" ]; then
      echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ dandelion_defconfig –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Xiaomi."
      exit 1
    fi

    echo "‚úÖ –°–∫–∞—á–∞–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: $FILE_URL"
    wget "$FILE_URL" -O arch/arm64/configs/nethunter_defconfig
